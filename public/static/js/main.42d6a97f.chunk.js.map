{"version":3,"sources":["components/MyNav.js","components/MyChatBot.js","components/TodoList.js","components/AddForm.js","components/TodoDetail.js","components/EditForm.js","components/SignIn.js","components/SignUp.js","App.js","reportWebVitals.js","index.js"],"names":["MyNav","props","buttonStyle","marginLeft","Navbar","bg","expand","Toggle","aria-controls","Collapse","id","Nav","className","to","style","loggedInUser","onClick","onLogout","Component","TodoList","todos","map","todo","_id","name","AddForm","onSubmit","onAdd","type","placeholder","TodoDetail","state","todoId","this","match","params","console","log","axios","get","then","response","setState","data","description","image","height","src","onDelete","EditForm","handleNameChange","e","cloneTodo","JSON","parse","stringify","target","value","handleDescChange","onChange","onEdit","SignIn","useEffect","onUnmount","onSignIn","htmlFor","aria-describedby","errorMessage","color","SignUp","onSignUp","App","handleAdd","preventDefault","files","imageFile","uploadForm","FormData","append","post","newTodo","completed","history","push","handleDelete","delete","filteredTodos","filter","handleEdit","patch","updatedTodos","myTodo","handleSignUp","username","email","password","withCredentials","handleSignIn","catch","err","error","handleLogOut","handleUnMount","exact","path","render","routeProps","withRouter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42d6a97f.chunk.js","sourcesContent":["import React from \"react\";\nimport { Navbar, Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nfunction MyNav(props) {\n  //props.loggedInUser\n  //props.onLogout\n\n  let buttonStyle = { marginLeft: \"10px\" };\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\">\n          <Link to=\"/\">Todos</Link>\n          <Link style={buttonStyle} to=\"/add-form\">\n            Add Todo\n          </Link>\n          {props.loggedInUser ? (\n            <button style={buttonStyle} onClick={props.onLogout}>\n              Logout\n            </button>\n          ) : (\n            <>\n              <Link style={buttonStyle} to=\"/sign-in\">\n                Sign In\n              </Link>\n              <Link style={buttonStyle} to=\"/sign-up\">\n                Sign Up\n              </Link>\n            </>\n          )}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default MyNav;\n","import React, { Component } from 'react'\n\nexport default class MyChatBot extends Component {\n\n//use componentDidMount to use external library not included with REACT\n// its an anonimous JS Function \ncomponentDidMount() {\n    (function(d, m){\n        var kommunicateSettings = \n            {\"appId\":\"ebf6cd226294782f653ba3ea69da9f5b\",\"popupWidget\":true,\"automaticChatOpenOnNavigation\":true};\n        var s = document.createElement(\"script\"); s.type = \"text/javascript\"; s.async = true;\n        s.src = \"https://widget.kommunicate.io/v2/kommunicate.app\";\n        var h = document.getElementsByTagName(\"head\")[0]; h.appendChild(s);\n        window.kommunicate = m; m._globals = kommunicateSettings;\n    })(document, window.kommunicate || {});\n    \n}\n \n    render() {\n        return (\n            <div>\n               {/* keep this empty div */}\n            </div>\n        )\n    }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport MyMap from \"./MyMap\";\nimport MyChatBot from \"./MyChatBot\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import CheckoutForm from \"./CheckoutForm\";\n// import \"../App.css\";\n\n\nfunction TodoList(props) {\n  // props.todos = [{}, {}, {}]\n//   const promise = loadStripe(\"pk_test_51Hj18bAeDmqFqIaNoNmfn74kdH5Uny827CEp3GltartBGWtzOMsva2K4ueZfS8bA59V7hEnueL69WIBjWx22VmTj00FiVZWINC\");\n\n  return (\n    <div>\n      {/* <Elements stripe={promise}>\n        <CheckoutForm />\n      </Elements> */}\n\n      {/* <MyMap/>\n        <MyChatBot/> */}\n      In todo list  \n           {\n               props.todos.map((todo) => {\n                    return <Link to={`/todo/${todo._id}`}>\n                        <p key={todo._id} >{todo.name}</p>\n                        </Link>\n               })\n           }\n    </div>\n  );\n}\n\nexport default TodoList;\n","import React from 'react'\nimport {Redirect} from 'react-router-dom'\n\nfunction AddForm(props) {\n\n    //props.onAdd = function\n\n        if (!props.loggedInUser){\n            //render method always return something\n            return <Redirect to={'/sign-in'}/>\n        }\n\n    return (\n        //return can only return a JSX donc la condition above can't be in this return bloc\n        <form onSubmit={props.onAdd} >\n            <input name=\"name\" type=\"text\" placeholder=\"Enter name\"></input>\n            <input name=\"description\"  type=\"text\" placeholder=\"Enter description\"></input>\n            <input type=\"file\" className=\"form-control\" name=\"image\" id=\"image\" />\n            <button type=\"submit\">Submit</button>\n        </form>\n    )\n}\n\nexport default AddForm","import React, { Component } from 'react'\nimport axios from 'axios' \nimport { Link, Redirect } from 'react-router-dom'\n\nclass TodoDetail extends Component {\n\n    // this.props.onDelete = fnc\n\n    state ={\n        todo: {}\n    }\n\n    componentDidMount() {\n       let todoId = this.props.match.params.todoId\n       console.log(this.props)\n    //    this.props.history.push('/manish.com')\n        axios.get(`http://localhost:5000/api/todos/${todoId}`)\n            .then((response) => {\n                this.setState({\n                    todo: response.data\n                })\n            })\n    }\n\n\n    render() {\n        const {name, description, image, _id} = this.state.todo\n        const {loggedInUser} = this.props\n\n        if (!loggedInUser){\n            //render method always return something\n            return <Redirect to={'/sign-in'}/>\n        }\n\n        return (\n            <div>\n                <div>Name: {name}</div>\n                <div>Detail: {description}</div>\n                <img style= {{height: \"100px\"}} src={image}/>\n                <br/> \n                <Link to={`/todo/${_id}/edit`} ><button>Edit</button></Link>\n                <button onClick={() => { this.props.onDelete(_id) } }>Delete</button>\n            </div>\n        )\n    }\n}\n\n\n\nexport default TodoDetail","import React, { Component } from 'react'\nimport axios from 'axios' \n\nclass EditForm extends Component {\n\n    state ={\n        todo: {}\n    }\n\n    componentDidMount() {\n       let todoId = this.props.match.params.todoId\n        axios.get(`http://localhost:5000/api/todos/${todoId}`)\n            .then((response) => {\n                this.setState({\n                    todo: response.data\n                })\n            })\n    }\n\n    handleNameChange = (e) => {\n       let cloneTodo = JSON.parse(JSON.stringify(this.state.todo))\n       cloneTodo.name =  e.target.value\n       this.setState({\n           todo: cloneTodo\n       })\n    }\n\n    handleDescChange = (e) => {\n        let cloneTodo = JSON.parse(JSON.stringify(this.state.todo))\n        cloneTodo.description =  e.target.value\n        this.setState({\n            todo: cloneTodo\n        })\n    }\n\n\n    render() {\n        const {name, description} = this.state.todo\n\n        return (\n            <div>\n                <input onChange={this.handleNameChange} type=\"text\" value={name} ></input>\n                <input  onChange={this.handleDescChange} type=\"text\" value={description} ></input>\n                <button onClick={() => { this.props.onEdit(this.state.todo) }  } >Edit</button>\n            </div>\n        )\n    }\n}\n\nexport default EditForm","import React, {useEffect} from 'react';\n\nexport default function SignIn(props){\n\n    //props.errorMessage \n\n    useEffect(() => {\n        return props.onUnmount\n    }, [])\n\n\n\n    return (\n        <form onSubmit={props.onSignIn}>\n            <div className=\"form-group\">\n                <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                <input onChange={props.onUnmount} type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\" aria-describedby=\"emailHelp\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"exampleInputPassword1\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n\n            {\n                props.errorMessage ? (<p style={{color: \"red\"}}>{props.errorMessage}</p>) : null\n            }\n        </form>\n    )\n}","import React from 'react';\n\nexport default function SignUp(props){\n    return (\n        <form onSubmit={props.onSignUp}>\n            <div className=\"form-group\">\n                <label htmlFor=\"exampleInputUsername\">Username</label>\n                <input type=\"text\" className=\"form-control\" id=\"exampleInputUsername\" name=\"username\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\" aria-describedby=\"emailHelp\" />\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"exampleInputPassword1\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n    )\n}","import React, { Component } from 'react'\nimport Nav from './components/MyNav'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport axios from 'axios'\nimport {Switch , Route, withRouter} from 'react-router-dom'\nimport TodoList from './components/TodoList'\nimport AddForm from './components/AddForm'\nimport TodoDetail from './components/TodoDetail'\nimport EditForm from './components/EditForm'\nimport SignIn from './components/SignIn'\nimport SignUp from './components/SignUp'\n\n\nclass App extends Component {\n\n  state = {\n    todos: [],\n    loggedInUser: null, \n    errorMessage: null,\n  }\n\n  componentDidMount() {\n    //check if the user is loogenin or not \n    if (!this.state.loggedInUser) {\n      axios.get('http://localhost:5000/api/user', {withCredentials: true})\n        .then((response) => {\n          console.log(response.data)\n        })\n\n    }\n\n\n\n    axios.get('http://localhost:5000/api/todos')\n      .then((response) => {\n        // response.data\n        this.setState({\n          todos: response.data\n        })\n      })\n  }\n\n  handleAdd = (e) => {\n    e.preventDefault()\n    const {name, description, image} = e.target\n    console.log(image.files)\n    //this is an array so you have to do it like this: \n\n    let imageFile = image.files[0];\n\n    //create a form data first (its a class in JS to create a form and create a post request)\n    let uploadForm = new FormData()\n    uploadForm.append('imageUrl', imageFile)\n\n    //now we create the axios post request\n    axios.post('http://localhost:5000/api/upload', uploadForm)\n    .then((response) => {\n      //so first we uploaded with axios.post request\n      console.log(response.data)\n      //whatever image we get here, we have to create here: \n      let newTodo = {\n        name: name.value,\n        description: description.value,\n        completed: false,\n        image: response.data.image\n      }\n  \n      axios.post('http://localhost:5000/api/create', newTodo)\n      .then((response) =>{\n          this.setState({\n            todos: [ response.data , ...this.state.todos]\n          }, () => {\n            this.props.history.push('/')\n          })      \n      })\n    })\n\n  \n  }\n\n  handleDelete = (todoId) => {\n    axios.delete(`http://localhost:5000/api/todos/${todoId}`)\n      .then(() => {\n          let filteredTodos = this.state.todos.filter((todo) => {\n              return todo._id !== todoId\n          })\n\n          this.setState({\n            todos: filteredTodos\n          }, () => {\n            this.props.history.push('/')\n          })\n      })\n\n  }\n\n  handleEdit = (todo) => {\n    axios.patch(`http://localhost:5000/api/todos/${todo._id}`, {\n      name: todo.name,\n      description: todo.description,\n      completed: todo.completed\n    })\n    .then(() => {\n        let updatedTodos = this.state.todos.map((myTodo) => {\n          if (myTodo._id == todo._id) {\n            myTodo = todo\n          }\n          return myTodo\n        })\n\n        this.setState({\n          todos: updatedTodos\n        }, () => {\n          this.props.history.push('/')\n        })\n    })\n  }\n\n  handleSignUp = (e) => {\n      e.preventDefault()\n\n      const {username, email, password} = e.target\n\n      axios.post(`http://localhost:5000/api/signup`, {\n      //send the data of the form \n      //sendthe input as a second parameter\n      username: username.value, \n      email: email.value, \n      password: password.value\n      }, {withCredentials: true})  //when the request is being made, its creatin a cookie and saving it// soeverytime the loggendin user comes back, the browser knows he is connected\n      .then((response) => {\n        this.setState({\n          loggedInUser: response.data\n        }, () => {\n          this.props.history.push('/')\n        })\n      })\n\n  }\n\n\n  handleSignIn = (e) => {\n    e.preventDefault()\n\n    const {email, password} = e.target\n\n    axios.post(`http://localhost:5000/api/signin`, {\n    //send the data of the form \n    //sendthe input as a second parameter\n    email: email.value, \n    password: password.value\n    }, {withCredentials: true})  \n    .then((response) => {\n      this.setState({\n        loggedInUser: response.data\n      }, () => {\n        this.props.history.push('/')\n      })\n    })\n    .catch((err) => {\n      console.log(err.response.data.error)// you have to update the state to show the error message\n      this.setState({\n        errorMessage: err.response.data.error\n      })\n    })\n}\n\n  handleLogOut = (e) => {\n    axios.post(`http://localhost:5000/api/logout`, {}, {withCredentials: true})  \n      .then(() => {\n        this.setState({\n          loggedInUser: null\n        })\n      })\n  }\n\n  handleUnMount = () => {\n    console.log(\"handleUnMount called\")\n    this.setState({\n      errorMessage: null\n    })\n  }\n\n  render() {\n\n    const {loggedInUser, errorMessage} = this.state\n\n    return (\n      <div>   \n        <Nav loggedInUser={loggedInUser} onLogout={this.handleLogOut} />\n        <h3>Shopping List</h3>\n        {\n          loggedInUser ? (<h5>User is: {loggedInUser.username}</h5>) : null\n        }\n        <Switch>\n            <Route exact path=\"/\" render={() => {\n              return <TodoList todos={this.state.todos} />\n            }} />\n            {/* <Route path=\"/\" component={AddForm} /> */}\n            <Route path=\"/add-form\" render={() => {\n              return <AddForm loggedInUser={loggedInUser} onAdd={this.handleAdd} />\n            }} />\n            {/* <Route path=\"/todo/:todoId\" component={TodoDetail}/> */}\n            <Route exact path=\"/todo/:todoId\" render={(routeProps) => {\n              return <TodoDetail loggedInUser={loggedInUser} onDelete={this.handleDelete}  {...routeProps} />\n            }} />\n            <Route path=\"/todo/:todoId/edit\" render={(routeProps) => {\n              return <EditForm onEdit={this.handleEdit} {...routeProps} />\n            }} />\n               <Route path=\"/sign-in\" render={(routeProps) => {\n            return <SignIn onUnmount={this.handleUnMount} errorMessage={errorMessage} onSignIn={this.handleSignIn} {...routeProps} />\n          }}/>\n          <Route path=\"/sign-up\" render={(routeProps) => {\n            return <SignUp onSignUp={this.handleSignUp} {...routeProps} />\n          }}/>\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}